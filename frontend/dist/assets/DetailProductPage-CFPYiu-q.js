import{v as f,e as m,r,k as N,u as v,j as s,N as b,i as I,B as x,m as y}from"./index-CQuxnmGs.js";const w=()=>{var c;const{id:o}=f(),e=m(a=>a.product.products.find(t=>(t==null?void 0:t._id)===o)),[n,i]=r.useState(0),d=N(),{user:l}=m(a=>a.userDetail),h=v(),g=a=>{i(a)},j=async a=>{if(!(l!=null&&l._id)){x.error("Please login first"),h("/login");return}d(y(a)),x.success("Product added to cart")};return r.useEffect(()=>{const a=setInterval(()=>{if(e!=null&&e.images){const t=(n+1)%e.images.length;i(t)}},5e3);return()=>clearInterval(a)},[n,e==null?void 0:e.images]),s.jsxs("div",{className:"container mx-auto",children:[s.jsx(b,{}),e&&s.jsx("div",{className:"mt-8 mx-10 lg:mx-40 xl:mx-60",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("img",{src:e==null?void 0:e.images[n],alt:e==null?void 0:e.name,className:"w-96 h-96 object-contain"}),s.jsx("div",{className:"flex justify-center mt-2 space-x-2",children:(c=e==null?void 0:e.images)==null?void 0:c.map((a,t)=>s.jsx("img",{src:a,alt:e==null?void 0:e.name,className:"w-12 h-12 cursor-pointer",onClick:()=>g(t)},t))})]}),s.jsxs("div",{className:"mt-4 xl:w-1/2 text-center",children:[s.jsx("h1",{className:"text-3xl font-bold mb-4",children:e==null?void 0:e.name}),s.jsx("p",{className:"text-lg mb-4",children:e==null?void 0:e.description}),s.jsxs("div",{className:"flex flex-col space-y-4 justify-between items-center mb-4",children:[s.jsxs("div",{className:"space-x-2 flex items-center",children:[s.jsxs("span",{className:"text-xl font-bold",children:["₹",e==null?void 0:e.discountedPrice]}),s.jsxs("span",{className:"text-gray-500 line-through",children:["₹",e==null?void 0:e.realPrice]})]}),s.jsx("button",{className:"bg-black text-white py-2 px-4 rounded-md hover:bg-gray-800",onClick:()=>j(e),children:"Add to Cart"})]})]})]})}),s.jsx(I,{})]})};export{w as default};
