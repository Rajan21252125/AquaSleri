import{r as f,e as v,k as w,u as C,j as s,N as k,L as P,i as _,B as c,m as A,n as L}from"./index-CQuxnmGs.js";const T=({filteredProducts:l,title:d})=>{const[t,m]=f.useState(1),{user:i}=v(e=>e.userDetail),b=w(),j=C(),g=t*10,y=g-10,x=l.slice(y,g),h=(e,a)=>e.length>a?e.substring(0,a)+"...":e,r=e=>{m(e)},N=async e=>{var a,o;if(!(i!=null&&i._id)){c.error("Please login first"),j("/login");return}b(A(e)),c.success("Product added to cart");try{const n=await L(e)}catch(n){c.error((o=(a=n==null?void 0:n.response)==null?void 0:a.data)==null?void 0:o.msg)}};return s.jsxs("div",{children:[s.jsx(k,{}),s.jsxs("div",{className:"mx-10 lg:mx-40 xl:mx-60 my-10",children:[s.jsx("h1",{className:"text-3xl font-bold my-4 text-center",children:d}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:x==null?void 0:x.map(e=>s.jsxs("div",{className:"bg-white shadow-lg rounded-lg overflow-hidden mt-4",children:[s.jsx("img",{src:e==null?void 0:e.images[0],alt:"product",className:"w-full h-56 object-cover object-center"}),s.jsxs("div",{className:"p-4",children:[s.jsx(P,{to:"/product/"+(e==null?void 0:e._id),children:s.jsx("h2",{className:"text-gray-800 text-2xl font-semibold",children:h(e==null?void 0:e.name,40)})}),s.jsx("p",{className:"mt-2 text-gray-600",children:h(e==null?void 0:e.description,100)}),s.jsxs("div",{className:"flex justify-between mt-3",children:[s.jsxs("div",{className:"space-x-2",children:[s.jsxs("span",{className:"text-lg font-bold text-gray-700",children:["₹",e==null?void 0:e.discountedPrice]}),s.jsxs("span",{className:"text-lg font-semibold text-gray-400 line-through",children:["₹",e==null?void 0:e.realPrice]})]}),s.jsx("button",{className:"px-3 py-1 bg-gray-800 text-white text-xs font-bold uppercase rounded",onClick:()=>N(e),children:"Add to Cart"})]})]})]},e==null?void 0:e._id))}),s.jsxs("div",{className:"flex justify-center mt-4",children:[s.jsx("button",{className:`mx-2 px-3 py-1 text-white text-xs font-bold uppercase rounded ${t===1?"bg-gray-500 cursor-not-allowed":"bg-gray-800"}`,onClick:()=>r(t-1),disabled:t===1,children:"<"}),Array.from({length:Math.ceil(l.length/10)},(e,a)=>s.jsx("button",{onClick:()=>r(a+1),className:`mx-2 px-3 py-1 text-white text-xs font-bold uppercase rounded ${t===a+1?"bg-gray-800":"bg-gray-600"}`,children:a+1},a)),s.jsx("button",{className:`mx-2 px-3 py-1 text-white text-xs font-bold uppercase rounded ${t===Math.ceil(l.length/10)?"bg-gray-500 cursor-not-allowed":"bg-gray-800"}`,onClick:()=>r(t+1),disabled:t===Math.ceil(l.length/10),children:">"})]})]}),s.jsx(_,{})]})};export{T as default};
