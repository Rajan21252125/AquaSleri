import{G as v,u as N,r as i,j as e,N as S,a as C,L as F,g as k,B as a,b as L,s as P,l as I}from"./index-CQuxnmGs.js";function D(n){return v({tag:"svg",attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(n)}const E=()=>{const n=N(),[r,x]=i.useState(!1),[d,p]=i.useState(!1),[o,h]=i.useState({email:"",password:"",fullName:"",phoneNumber:""}),f=()=>{x(!r)},b=()=>{p(!d)},y=async s=>{if(r)try{const{data:l}=await k(s.credential);n("/"),a.success(),localStorage.setItem("typeOfUser",!0)}catch(l){console.log(l),a.error("Error creating account")}else try{const{data:l}=await L(s.credential);n("/"),a.success("Logged in successfully"),localStorage.setItem("typeOfUser",!0)}catch(l){console.log(l),a.error("Error logging in")}},w=s=>{console.log(s),console.log("Google Sign In Failure")},c=s=>{h({...o,[s.target.name]:s.target.value})},j=async s=>{var l,m,g,u;s.preventDefault();try{if(r){const{data:t}=await P(o);n("/login"),a.success(t==null?void 0:t.msg),localStorage.setItem("typeOfUser",!1)}else{const{data:t}=await I(o);if((t==null?void 0:t.isVerified)===!1)return a.error("Please verify your email");n("/"),a.success(t==null?void 0:t.msg),localStorage.setItem("typeOfUser",!1)}}catch(t){console.log((m=(l=t==null?void 0:t.response)==null?void 0:l.data)==null?void 0:m.msg),a.error((u=(g=t==null?void 0:t.response)==null?void 0:g.data)==null?void 0:u.msg)}};return e.jsxs(e.Fragment,{children:[e.jsx(S,{}),e.jsxs("section",{className:"md:h-[calc(100vh-7rem)] pb-20 flex flex-col md:flex-row space-y-10 md:space-y-0 md:space-x-16 md:my-0 md:items-center md:justify-center",children:[e.jsx("div",{className:"md:w-1/3 max-w-sm hidden md:block",children:e.jsx("img",{src:"https://tecdn.b-cdn.net/img/Photos/new-templates/bootstrap-login-form/draw2.webp",alt:"Sample image"})}),e.jsxs("div",{className:"md:w-1/3 max-w-sm px-4",children:[e.jsxs("div",{className:"text-left",children:[e.jsx("label",{className:"mr-1 text-2xl font-bold",children:r?"Sign in":"Log in"})," ",e.jsx("br",{}),e.jsx(C,{render:s=>e.jsxs("button",{onClick:s.onClick,disabled:s.disabled,className:"w-full border border-black py-4 rounded-md font-semibold flex items-center justify-center",children:[e.jsx(D,{className:"mr-2 text-xl"})," Google Sign In"]}),onSuccess:y,onFailure:w,cookiePolicy:"single_host_origin"})]}),e.jsx("div",{className:"my-5 flex items-center before:mt-0.5 before:flex-1 before:border-t before:border-neutral-300 after:mt-0.5 after:flex-1 after:border-t after:border-neutral-300",children:e.jsx("p",{className:"mx-4 mb-0 text-center font-semibold text-slate-500",children:"Or"})}),e.jsxs("form",{onSubmit:j,children:[e.jsx("div",{children:r&&e.jsxs("div",{children:[e.jsx("input",{className:"text-sm w-full px-4 py-2 border border-solid border-gray-300 rounded",type:"text",placeholder:"Full Name",name:"fullName",value:o.fullName,onChange:c}),e.jsx("input",{className:"text-sm w-full px-4 mt-4 py-2 border border-solid border-gray-300 rounded",type:"tel",placeholder:"Phone Number",name:"phoneNumber",value:o.phoneNumber,onChange:c,pattern:"[0-9]{10}",inputMode:"numeric"})]})}),e.jsx("input",{className:"text-sm w-full px-4 py-2 mt-4 border border-solid border-gray-300 rounded",type:"text",placeholder:"Email Address",name:"email",value:o.email,onChange:c}),e.jsx("input",{className:"text-sm w-full px-4 py-2 border border-solid border-gray-300 rounded mt-4",type:d?"text":"password",placeholder:"Password",name:"password",value:o.password,onChange:c}),e.jsxs("div",{className:"mt-4 flex justify-between font-semibold text-sm",children:[e.jsxs("label",{className:"flex text-slate-500 hover:text-slate-600 cursor-pointer",children:[e.jsx("input",{className:"mr-1",type:"checkbox",onClick:b}),e.jsx("span",{children:"Show Password"})]}),!r&&e.jsx(F,{to:"/forgot-password",className:"text-blue-600 hover:text-blue-700 cursor-pointer hover:underline hover:underline-offset-4",children:"Forgot Password?"})]}),e.jsx("div",{className:"text-center md:text-left",children:e.jsx("button",{className:"mt-4 bg-blue-600 w-full hover:bg-blue-700 px-4 py-2 text-white uppercase rounded text-xs tracking-wider",type:"submit",children:r?"Sign-In":"Login"})})]}),e.jsxs("div",{className:"mt-4 font-semibold text-sm text-slate-500 text-center md:text-left",children:[r?"Already have an account ?":"Don't have an account?"," ",e.jsx("button",{className:"text-red-600 hover:underline hover:underline-offset-4",onClick:f,children:r?"Login":"Register"})]})]})]})]})};export{E as default};
